
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Tom Keffer <tkeffer@gmail.com>">
      
      
        <link rel="canonical" href="https://www.weewx.com/usersguide/troubleshooting/software/">
      
      
        <link rel="prev" href="../hardware/">
      
      
        <link rel="next" href="../meteo/">
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.14">
    
    
      
        <title>Software Problems - WeeWX 5.0</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CInconsolata+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Inconsolata Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/weewx_ui.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="white">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#software-problems" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="WeeWX 5.0" class="md-header__button md-logo" aria-label="WeeWX 5.0" data-md-component="logo">
      
  <img src="../../../images/logo-weewx.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WeeWX 5.0
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Software Problems
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="white"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="WeeWX 5.0" class="md-nav__button md-logo" aria-label="WeeWX 5.0" data-md-component="logo">
      
  <img src="../../../images/logo-weewx.png" alt="logo">

    </a>
    WeeWX 5.0
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../quickstarts/">Quick starts</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Quick starts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/debian/" class="md-nav__link">
        Debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/redhat/" class="md-nav__link">
        RedHat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/suse/" class="md-nav__link">
        SuSE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/pip/" class="md-nav__link">
        pip
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../quickstarts/git/" class="md-nav__link">
        git
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">User's guide</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          User's guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../system-requirements/" class="md-nav__link">
        System requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installing-weewx/" class="md-nav__link">
        Installing WeeWX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../where/" class="md-nav__link">
        Where to find things
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../running-weewx/" class="md-nav__link">
        Running WeeWX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../webserver-integration/" class="md-nav__link">
        Web server integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../backing-up-weewx/" class="md-nav__link">
        Backup & restore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mysql-mariadb-config/" class="md-nav__link">
        Configuring MySQL
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Troubleshooting</a>
          
            <label for="__nav_2_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          Troubleshooting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/" class="md-nav__link">
        Hardware Problems
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Software Problems
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Software Problems
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nothing-in-the-log-file" class="md-nav__link">
    Nothing in the log file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configobj-errors" class="md-nav__link">
    ConfigObj errors
  </a>
  
    <nav class="md-nav" aria-label="ConfigObj errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configobjduplicateerror-exception" class="md-nav__link">
    configobj.DuplicateError exception
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configobjnestingerror-exception" class="md-nav__link">
    configobj.NestingError exception
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#no-barometer-data" class="md-nav__link">
    No barometer data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cheetahnamemappernotfound-errors" class="md-nav__link">
    Cheetah.NameMapper.NotFound errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dots-in-the-plots" class="md-nav__link">
    Dots in the plots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spikes-in-the-graphs" class="md-nav__link">
    Spikes in the graphs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-is-locked-error" class="md-nav__link">
    'Database is locked' error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funky-symbols-in-plots" class="md-nav__link">
    Funky symbols in plots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unicodeencodeerror" class="md-nav__link">
    UnicodeEncodeError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-is-archived-but-someall-reports-do-not-run" class="md-nav__link">
    Data is archived but some/all reports do not run
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-wrong-reports-are-being-skipped-by-report_timing" class="md-nav__link">
    The wrong reports are being skipped by report_timing
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../meteo/" class="md-nav__link">
        Meteorological Problems
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../weewx-config-file/">Configuration options</a>
          
            <label for="__nav_2_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_10">
          <span class="md-nav__icon md-icon"></span>
          Configuration options
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/general/" class="md-nav__link">
        General options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stations-config/" class="md-nav__link">
        [Station]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdrestful-config/" class="md-nav__link">
        [StdRESTful]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdreport-config/" class="md-nav__link">
        [StdReport]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdconvert-config/" class="md-nav__link">
        [StdConvert]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdcalibrate-config/" class="md-nav__link">
        [StdCalibrate]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdqc-config/" class="md-nav__link">
        [StdQC]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdwxcalculate-config/" class="md-nav__link">
        [StdWXCalculate]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdarchive/" class="md-nav__link">
        [StdArchive]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/stdtimesynch/" class="md-nav__link">
        [StdTimeSynch]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/data-bindings/" class="md-nav__link">
        [DataBindings]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/databases/" class="md-nav__link">
        [Databases]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/databasetypes/" class="md-nav__link">
        [DatabaseTypes]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weewx-config-file/engine/" class="md-nav__link">
        [Engine]
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../custom/">Customization guide</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Customization guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/custom-reports/" class="md-nav__link">
        Customizing reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/report-scheduling/" class="md-nav__link">
        Scheduling reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/cheetah/" class="md-nav__link">
        The Cheetah generator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/image-generator/" class="md-nav__link">
        The Image generator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/multiple-bindings/" class="md-nav__link">
        Multiple data bindings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/localization/" class="md-nav__link">
        Localization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/service-engine/" class="md-nav__link">
        Customizing the service engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/database/" class="md-nav__link">
        Customizing the database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/units/" class="md-nav__link">
        Customizing units
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/derived/" class="md-nav__link">
        Derived types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/drivers/" class="md-nav__link">
        Custom drivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/extensions/" class="md-nav__link">
        Extensions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/report-options/" class="md-nav__link">
        Report options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom/appendix/" class="md-nav__link">
        Appendix
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Utilities
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Utilities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/weewxd/" class="md-nav__link">
        weewxd
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          weectl
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          weectl
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/weectl-station/" class="md-nav__link">
        weectl station
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/weectl-extension/" class="md-nav__link">
        weectl extension
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/weectl-database/" class="md-nav__link">
        weectl database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/wee_database/" class="md-nav__link">
        wee_database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/wee_debug/" class="md-nav__link">
        wee_debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/wee_device/" class="md-nav__link">
        wee_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/wee_import/" class="md-nav__link">
        wee_import
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../utilities/wee_reports/" class="md-nav__link">
        wee_reports
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Hardware guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Hardware guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/drivers/" class="md-nav__link">
        Drivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/acurite/" class="md-nav__link">
        AcuRite
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/cc3000/" class="md-nav__link">
        CC3000
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/fousb/" class="md-nav__link">
        FineOffset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/te923/" class="md-nav__link">
        TE923
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/ultimeter/" class="md-nav__link">
        Ultimeter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/vantage/" class="md-nav__link">
        Vantage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/wmr100/" class="md-nav__link">
        WMR100
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/wmr300/" class="md-nav__link">
        WMR300
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/wmr9x8/" class="md-nav__link">
        WMR9x8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/ws1/" class="md-nav__link">
        WS1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/ws23xx/" class="md-nav__link">
        WS23xx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/ws28xx/" class="md-nav__link">
        WS28xx
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../versions/" class="md-nav__link">
        Upgrade guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../devnotes/" class="md-nav__link">
        Notes for developers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../changes/" class="md-nav__link">
        Change log
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nothing-in-the-log-file" class="md-nav__link">
    Nothing in the log file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configobj-errors" class="md-nav__link">
    ConfigObj errors
  </a>
  
    <nav class="md-nav" aria-label="ConfigObj errors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configobjduplicateerror-exception" class="md-nav__link">
    configobj.DuplicateError exception
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configobjnestingerror-exception" class="md-nav__link">
    configobj.NestingError exception
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#no-barometer-data" class="md-nav__link">
    No barometer data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cheetahnamemappernotfound-errors" class="md-nav__link">
    Cheetah.NameMapper.NotFound errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dots-in-the-plots" class="md-nav__link">
    Dots in the plots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spikes-in-the-graphs" class="md-nav__link">
    Spikes in the graphs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-is-locked-error" class="md-nav__link">
    'Database is locked' error
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funky-symbols-in-plots" class="md-nav__link">
    Funky symbols in plots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unicodeencodeerror" class="md-nav__link">
    UnicodeEncodeError
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-is-archived-but-someall-reports-do-not-run" class="md-nav__link">
    Data is archived but some/all reports do not run
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-wrong-reports-are-being-skipped-by-report_timing" class="md-nav__link">
    The wrong reports are being skipped by report_timing
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="software-problems">Software problems<a class="headerlink" href="#software-problems" title="Permanent link">&para;</a></h1>
<p>This section covers some common software configuration problems.</p>
<h2 id="nothing-in-the-log-file">Nothing in the log file<a class="headerlink" href="#nothing-in-the-log-file" title="Permanent link">&para;</a></h2>
<p>As it is running, WeeWX periodically sends status information, failures, and other things to your system's logging facility. They typically look something like this (the first line is not actually part of the log):</p>
<div class="highlight"><pre><span></span><code> DATE    TIME       HOST    weewx[PID]  LEVL MESSAGE
Feb  8 04:25:16 hummingbird weewx[6932] INFO weewx.manager: Added record 2020-02-08 04:25:00 PST (1581164700) to database &#39;weewx.sdb&#39;
Feb  8 04:25:16 hummingbird weewx[6932] INFO weewx.manager: Added record 2020-02-08 04:25:00 PST (1581164700) to daily summary in &#39;weewx.sdb&#39;
Feb  8 04:25:17 hummingbird weewx[6932] INFO weewx.restx: PWSWeather: Published record 2020-02-08 04:25:00 PST (1581164700)
Feb  8 04:25:17 hummingbird weewx[6932] INFO weewx.restx: Wunderground-PWS: Published record 2020-02-08 04:25:00 PST (1581164700)
Feb  8 04:25:17 hummingbird weewx[6932] INFO weewx.restx: Windy: Published record 2020-02-08 04:25:00 PST (1581164700)
Feb  8 04:25:17 hummingbird weewx[6932] ERROR weewx.restx: WOW: Failed to publish record 2020-02-08 04:25:00 PST (1581164700): Failed upload after 3 tries
</code></pre></div>
<p>The location of this logging file varies from system to system, but it is typically in <code>/var/log/syslog</code> or <code>/var/log/messages</code>.</p>
<p>However, some systems default to saving only warning or critical information, so <strong>INFO</strong> messages from WeeWX may not appear. If this happens to you, check your system logging configuration. On Debian systems, look in <code>/etc/rsyslog.conf</code>. On Redhat systems, look in <code>/etc/syslog.conf</code>.</p>
<h2 id="configobj-errors">ConfigObj errors<a class="headerlink" href="#configobj-errors" title="Permanent link">&para;</a></h2>
<p>These are errors in the configuration file. Two are very common. Incidentally, these errors are far easier to diagnose when WeeWX is run directly from the command line than when it is run as a daemon.</p>
<h3 id="configobjduplicateerror-exception"><code>configobj.DuplicateError</code> exception<a class="headerlink" href="#configobjduplicateerror-exception" title="Permanent link">&para;</a></h3>
<p>This error is caused by using an identifier more than once in the configuration file. For example, you may have inadvertently listed your FTP server twice:</p>
<div class="highlight"><pre><span></span><code><span class="k">[Reports]</span>
<span class="w">    </span><span class="k">[[FTP]]</span>
<span class="w">        </span><span class="na">... (details elided)</span>
<span class="w">        </span><span class="na">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">fred</span>
<span class="w">        </span><span class="na">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">ftp.myhost.com</span>
<span class="w">        </span><span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">mypassword</span>
<span class="w">        </span><span class="na">server</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">ftp.myhost.com</span><span class="w">      </span><span class="c1"># OOPS! Listed it twice!</span>
<span class="w">        </span><span class="na">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">/weather</span>
<span class="na">...</span>
</code></pre></div>
<p>Generally, if you encounter this error, the log file will give you the line number it happened in:</p>
<div class="highlight"><pre><span></span><code>Apr 24 12:09:15 raven weewx[11480]: wxengine: Error while parsing configuration file /home/weewx/weewx.conf
Apr 24 12:09:15 raven weewx[11480]: wxengine: Unable to initialize main loop:
Apr 24 12:09:15 raven weewx[11480]: **** Duplicate keyword name at line 254.
Apr 24 12:09:15 raven weewx[11480]: **** Exiting. 
</code></pre></div>
<h3 id="configobjnestingerror-exception"><code>configobj.NestingError</code> exception<a class="headerlink" href="#configobjnestingerror-exception" title="Permanent link">&para;</a></h3>
<p>This is a very similar error, and is caused by a misformed section nesting. For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">[Reports]</span>
<span class="w">    </span><span class="k">[[FTP]]]</span>
<span class="w">        </span><span class="na">...</span>
</code></pre></div>
<p>Note the extra closing bracket on the subsection <code>FTP</code>.</p>
<h2 id="no-barometer-data">No barometer data<a class="headerlink" href="#no-barometer-data" title="Permanent link">&para;</a></h2>
<p>If everything appears normal except that you have no barometer data, the problem may be a mismatch between the unit system used for service <code>StdConvert</code> and the unit system used by service <code>StdQC</code>. For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">[StdConvert]</span>
<span class="w">    </span><span class="na">target_unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">METRIC</span>
<span class="w">    </span><span class="na">...</span>

<span class="k">[StdQC]</span>
<span class="w">    </span><span class="k">[[MinMax]]</span>
<span class="w">        </span><span class="na">barometer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">28, 32.5</span>
</code></pre></div>
<p>The problem is that you are requiring the barometer data to be between 28 and 32.5, but with the unit system set to <code>METRIC</code>, the data will be in the range 990 to 1050 or so!</p>
<p>The solution is to change the values to match the units in <code>StdConvert</code>, or specify the units in <code>MinMax</code>, regardless of the units in <code>StdConvert</code>. For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">[StdConvert]</span>
<span class="w">    </span><span class="na">target_unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">US</span>
<span class="w">    </span><span class="na">...</span>

<span class="k">[StdQC]</span>
<span class="w">    </span><span class="k">[[MinMax]]</span>
<span class="hll"><span class="w">        </span><span class="na">barometer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">950, 1100, mbar</span>
</span></code></pre></div>
<h2 id="cheetahnamemappernotfound-errors"><code>Cheetah.NameMapper.NotFound</code> errors<a class="headerlink" href="#cheetahnamemappernotfound-errors" title="Permanent link">&para;</a></h2>
<p>If you get errors of the sort:</p>
<div class="highlight"><pre><span></span><code>Apr 12 05:12:32 raven reportengine[3074]: filegenerator: Caught exception &quot;&lt;class &#39;NameMapper.NotFound&#39;&gt;&quot;
Apr 12 05:12:32 raven reportengine[3074]: **** Message: &quot;cannot find &#39;fubar&#39; in template /home/weewx/skins/Standard/index.html.tmpl&quot;
Apr 12 05:12:32 raven reportengine[3074]: **** Ignoring template and continuing.
</code></pre></div>
<p>you have a tag in your template that WeeWX does not recognize. In this example, it is the tag <code>$fubar</code> in the template <code>/home/weewx/skins/Standard/index.html.tmpl</code>.</p>
<h2 id="dots-in-the-plots">Dots in the plots<a class="headerlink" href="#dots-in-the-plots" title="Permanent link">&para;</a></h2>
<p>If you see dots instead of lines in the daily plots, you might want to change the graphing options or adjust the station's archive interval.</p>
<p>In a default configuration, a time period greater than 1% of the displayed timespan is considered to be a gap in data. So when the interval between data points is greater than about 10 minutes, the daily plots show dots instead of connected points.</p>
<p>Change the <a href="../../../custom/image-generator#line_gaps">line_gap_fraction</a> option in <code>skin.conf</code> to control how much time is considered a break in data.</p>
<p>As for the archive interval, check the log file for an entry like this soon after WeeWX starts up:</p>
<div class="highlight"><pre><span></span><code>Dec 30 10:54:17 saga weewx[10035]: wxengine: The archive interval in the configuration file
            (300) does not match the station hardware interval (1800).
Dec 30 10:54:17 saga weewx[10035]: wxengine: Using archive interval of 1800
</code></pre></div>
<p>In this example, interval in <code>weewx.conf</code> is 5 minutes, but the station interval is 30 minutes. When the interval in <code>weewx.conf</code> does not match the station's hardware interval, WeeWX defers to the station's interval.</p>
<p>Use the <a href="../../../utilities/wee_device"><code>wee_device</code></a> utility to change the station's interval.</p>
<h2 id="spikes-in-the-graphs">Spikes in the graphs<a class="headerlink" href="#spikes-in-the-graphs" title="Permanent link">&para;</a></h2>
<p>Occasionally you may see anomalous readings, typically manifested as spikes in the graphs. The source could be a flaky serial/USB connection, radio or other interference, a cheap USB-Serial adapter, low-quality sensors, or simply an anomalous reading.</p>
<p>Sensor quality matters. It is not unusual for some low-end hardware to report odd sensor readings occasionally (once every few days). Some sensors, such as solar radiation/UV, have a limited lifespan of about 5 years. The (analog) humidity sensors on older Vantage stations are known to deteriorate after a few years in wet environments.</p>
<p>If you frequently see anomalous data, first check the hardware.</p>
<p>To keep bad data from the database, add a quality control (QC) rule such as Min/Max bounds. See the <a href="../../weewx-config-file/stdqc-config">QC</a> section for details.</p>
<p>To remove bad data from the database, you will have to do some basic SQL commands. For example, let's say the station emitted some very high temperatures and wind speeds for one or two readings. This is how to remove them:</p>
<ol>
<li>Stop WeeWX</li>
<li>Make a copy of the archive database
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>weewx.sdb<span class="w"> </span>weewx-YYMMDD.sdb
</code></pre></div></li>
<li>Verify the bad data exist where you think they exist
<div class="highlight"><pre><span></span><code>sqlite3<span class="w"> </span>weewx.sdb
sqlite&gt;<span class="w"> </span><span class="k">select</span><span class="w"> </span>dateTime,outTemp<span class="w"> </span>from<span class="w"> </span>archive<span class="w"> </span>where<span class="w"> </span>outTemp<span class="w"> </span>&gt;<span class="w"> </span><span class="m">1000</span><span class="p">;</span>
</code></pre></div></li>
<li>See whether the bad temperature and wind data happened at the same time
<div class="highlight"><pre><span></span><code><span class="n">sqlite</span><span class="o">&gt;</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">dateTime</span><span class="p">,</span><span class="n">outTemp</span><span class="p">,</span><span class="n">windSpeed</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">outTemp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
</code></pre></div></li>
<li>Remove the bad data by setting to NULL
<div class="highlight"><pre><span></span><code><span class="n">sqlite</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">windSpeed</span><span class="o">=</span><span class="k">NULL</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">outTemp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="n">sqlite</span><span class="o">&gt;</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">outTemp</span><span class="o">=</span><span class="k">NULL</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">outTemp</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
</code></pre></div></li>
<li>Delete the aggregate statistics so that WeeWX can regenerate them without the anomalies
<div class="highlight"><pre><span></span><code>weectl<span class="w"> </span>database<span class="w"> </span>drop-daily
</code></pre></div></li>
<li>Start WeeWX</li>
</ol>
<h2 id="database-is-locked-error">'Database is locked' error<a class="headerlink" href="#database-is-locked-error" title="Permanent link">&para;</a></h2>
<p>This seems to be a problem with the Raspberry Pi, <em>when using SQLite</em>. There is no analogous problem with MySQL databases. You will see errors in the system log that looks like this:</p>
<div class="highlight"><pre><span></span><code>Feb 12 07:11:06 rpi weewx[20930]: ****    File &quot;/usr/share/weewx/weewx/archive.py&quot;, line 118, in lastGoodStamp
Feb 12 07:11:06 rpi weewx[20930]: ****      _row = self.getSql(&quot;SELECT MAX(dateTime) FROM %s&quot; % self.table)
Feb 12 07:11:06 rpi weewx[20930]: ****    File &quot;/usr/share/weewx/weewx/archive.py&quot;, line 250, in getSql
Feb 12 07:11:06 rpi weewx[20930]: ****    File &quot;/usr/share/weewx/weedb/sqlite.py&quot;, line 120, in execute
Feb 12 07:11:06 rpi weewx[20930]: ****      raise weedb.OperationalError(e)
Feb 12 07:11:06 rpi weewx[20930]: ****  OperationalError: database is locked
Feb 12 07:11:06 rpi weewx[20930]: ****      _cursor.execute(sql, sqlargs)
Feb 12 07:11:06 rpi weewx[20930]: ****    File &quot;/usr/share/weewx/weedb/sqlite.py&quot;, line 120, in execute
Feb 12 07:11:06 rpi weewx[20930]: ****      raise weedb.OperationalError(e)
Feb 12 07:11:06 rpi weewx[20930]: ****  OperationalError: database is locked
</code></pre></div>
<p>We are still trying to decipher exactly what the problem is, but it seems that (many? most? all?) implementations of the SQLite 'C' access libraries on the RPi sleep for a full second if they find the database locked. This gives them only five chances within the 5 second timeout period before an exception is raised.</p>
<p>Not all Raspberry Pis have this problem. It seems to be most acute when running big templates with lots of queries, such as the forecast extension.</p>
<p>There are a few possible fixes:</p>
<ul>
<li>Increase the <a href="../../weewx-config-file/databases.md#sqlite">timeout option</a>.</li>
<li>Use a high quality SD card in your RPi. There seems to be some evidence that faster SD cards are more immune to this problem.</li>
<li>Trim the size of your templates to minimize the number of queries necessary.</li>
</ul>
<p>None of these 'fixes' are very satisfying and we're trying to come up with a more robust solution.</p>
<h2 id="funky-symbols-in-plots">Funky symbols in plots<a class="headerlink" href="#funky-symbols-in-plots" title="Permanent link">&para;</a></h2>
<p>If your plots have strange looking symbols for units, such as degrees Fahrenheit (°F), that look something like this:</p>
<p><img alt="funky degree sign" src="../../../images/funky_degree.png" /></p>
<p>Then the problem may be that you are missing the fonts specified for the option <code>unit_label_font_path</code> in your <code>skin.conf</code> file and, instead, WeeWX is substituting a default font, which does not support the Unicode character necessary to make a degree sign. Look in section <code>[ImageGenerator]</code> for a line that looks like:
<div class="highlight"><pre><span></span><code>unit_label_font_path = /usr/share/fonts/truetype/freefont/FreeMonoBold.ttf
</code></pre></div>
Make sure that the specified path (<code>/usr/share/fonts/truetype/freefont/FreeMonoBold.ttf</code> in this case) actually exists. If it does not, on Debian operating systems (such as Ubuntu), you may be able to install the necessary fonts:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>fonts-freefont-ttf
sudo<span class="w"> </span>fc-cache<span class="w"> </span>-f<span class="w"> </span>-v
</code></pre></div>
(On older systems, the package <code>fonts-freefont-ttf</code> may be called <code>ttf-freefont</code>). The first command installs the "Truetype" fonts, the second rebuilds the font cache. If your system does not have fc-cache command, then install it from the <code>fontconfig</code> package:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>fontconfig
</code></pre></div></p>
<p>If none of this works, or if you are on a different operating system, then you will have to change the option <code>unit_label_font_path</code> to point to something on your system which does support the Unicode characters you plan to use.</p>
<h2 id="unicodeencodeerror">UnicodeEncodeError<a class="headerlink" href="#unicodeencodeerror" title="Permanent link">&para;</a></h2>
<p>This problem is closely related to the <a href="#funky-symbols-in-plots">"Funky symbols"</a> problem above. In this case, you may see errors in your log that look like:
<div class="highlight"><pre><span></span><code>May 14 13:35:23 web weewx[5633]: cheetahgenerator: Generated 14 files for report StandardReport in 1.27 seconds
May 14 13:35:23 web weewx[5633]: reportengine: Caught unrecoverable exception in generator weewx.imagegenerator.ImageGenerator
May 14 13:35:23 web weewx[5633]:         ****  &#39;ascii&#39; codec can&#39;t encode character u&#39;\xe8&#39; in position 5: ordinal not in range(128)
May 14 13:35:23 web weewx[5633]:         ****  Traceback (most recent call last):
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/share/weewx/weewx/reportengine.py&quot;, line 139, in run
May 14 13:35:23 web weewx[5633]:         ****      obj.start()
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/share/weewx/weewx/reportengine.py&quot;, line 170, in start
May 14 13:35:23 web weewx[5633]:         ****      self.run()
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/share/weewx/weewx/imagegenerator.py&quot;, line 36, in run
May 14 13:35:23 web weewx[5633]:         ****      self.gen_images(self.gen_ts)
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/share/weewx/weewx/imagegenerator.py&quot;, line 220, in gen_images
May 14 13:35:23 web weewx[5633]:         ****      image = plot.render()
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/share/weewx/weeplot/genplot.py&quot;, line 175, in render
May 14 13:35:23 web weewx[5633]:         ****      self._renderTopBand(draw)
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/share/weewx/weeplot/genplot.py&quot;, line 390, in _renderTopBand
May 14 13:35:23 web weewx[5633]:         ****      top_label_size = draw.textsize(top_label, font=top_label_font)
May 14 13:35:23 web weewx[5633]:         ****    File &quot;/usr/lib/python2.7/dist-packages/PIL/ImageDraw.py&quot;, line 278, in textsize
May 14 13:35:23 web weewx[5633]:         ****      return font.getsize(text)
May 14 13:35:23 web weewx[5633]:         ****  UnicodeEncodeError: &#39;ascii&#39; codec can&#39;t encode character u&#39;\xe8&#39; in position 5: ordinal not in range(128)
May 14 13:35:23 web weewx[5633]:         ****  Generator terminated...
</code></pre></div>
This is frequently caused by the necessary Truetype fonts not being installed on your computer and, instead, a default font is being substituted, which only knows how to plot ASCII characters. The cure is as before: install the font.</p>
<h2 id="data-is-archived-but-someall-reports-do-not-run">Data is archived but some/all reports do not run<a class="headerlink" href="#data-is-archived-but-someall-reports-do-not-run" title="Permanent link">&para;</a></h2>
<p>If WeeWX appears to be running normally but some or all reports are not being run, either all the time or periodically, the problem could be the inadvertant use or incorrect setting of the <code>report_timing</code> option in <code>weewx.conf</code>. The <code>report_timing</code> option allows the user to specify when some or all reports are run (see <a href="../../../custom/report_scheduling"><em>Scheduling report generation</em></a>). By default, the <a href="../../weewx-config-file/stdreport-config/#report_timing"><em><code>report_timing</code></em></a> option is disabled and all reports are run each archive period.</p>
<p>To see if the <code>report_timing</code> option is causing reports to be skipped inspect the <a href="../../running-weewx#monitoring-weewx">log file</a>. Any reports that are skipped due to the <code>report_timing</code> option will be logged as follows:
<div class="highlight"><pre><span></span><code>Apr 29 09:30:17 rosella weewx[3319]: reportengine: Report StandardReport skipped due to report_timing setting
</code></pre></div>
If reports are being incorrectly skipped due to <code>report_timing</code>, then edit <code>weewx.conf</code> and check for a <code>report_timing</code> option in <code>[StdReport]</code>. Either remove all occurrences of <code>report_timing</code> to run all reports each archive period, or confirm the correct use and setting of the <code>report_timing</code> option.</p>
<h2 id="the-wrong-reports-are-being-skipped-by-report_timing">The wrong reports are being skipped by report_timing<a class="headerlink" href="#the-wrong-reports-are-being-skipped-by-report_timing" title="Permanent link">&para;</a></h2>
<p>If the <a href="../../weewx-config-file/stdreport-config/#report_timing"><em><code>report_timing</code></em></a> option is being used, and the results are not as expected, there may be an error in the <code>report_timing</code> option. If there are errors in the <code>report_timing</code> parameter, the report will be run on each archive interval. First check the <code>report_timing</code> option parameters to ensure they are valid and there are no additonal spaces or other unwanted characters. Then check that the parameters are correctly set for the desired report generation times. For example, is the correct day of the week number being used if limiting the day of the week parameter. Refer to <a href="../../../custom/report_scheduling"><em>Scheduling report generation</em></a>.</p>
<p>Check the <a href="../../usersguide/running-weewx#monitoring-weewx">log file</a> for any entries relating to the reports concerned. Errors in the <code>report_timing</code> parameter and skipped reports are logged only when <code>debug=1</code> in <code>weewx.conf</code>.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2009-2023 Thomas Keffer, Matthew Wall, and Gary Roderick, all rights reserved
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.top", "toc.follow", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>