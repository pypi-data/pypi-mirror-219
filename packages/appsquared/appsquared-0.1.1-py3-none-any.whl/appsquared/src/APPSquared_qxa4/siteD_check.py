#!bin/env/python
import argparse
import os
import pandas as pd
import re

parser = argparse.ArgumentParser()

parser.add_argument("-i", dest="input", help="input file generated by running contact_diffs.py", required=True)
parser.add_argument("-o", dest="output", help="output file name", required=True)
args = parser.parse_args()

def compare_files(test_file):
    with open(test_file) as parsed_file:
        D_sites = []
        for line in parsed_file:
            #match = re.search(r'501',line)
            match = re.search(r'96|102|103|117|121|167|169|170|171|172|173|174|175|176|177|179|182|201|203|207|208|209|212|213|214|215|216|217|218|219|220|221|222|226|227|228|229|230|238|240|242|244|246|248|307',line)
            if match:
                print(line)
                D_sites.append(line)
    return D_sites

D_adj = compare_files(args.input)
#print(D_adj)
diff_df = pd.DataFrame(D_adj)
diff_df.to_csv(args.output)

