"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_monitors_overview_tsx-images_spot_onboarding-preview_svg"],{"./app/actionCreators/monitors.tsx":(e,t,n)=>{n.d(t,{Mw:()=>s,gm:()=>a,so:()=>l});var o=n("./app/actionCreators/indicator.tsx"),r=n("./app/locale.tsx"),i=n("../node_modules/@sentry/core/esm/exports.js");async function s(e,t,n){(0,o.E3)((0,r.t)("Deleting Monitor..."));try{await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"DELETE"}),(0,o.B8)()}catch{(0,o.Iw)((0,r.t)("Unable to remove monitor."))}}async function a(e,t,n,i){(0,o.E3)((0,r.t)("Deleting Environment..."));try{await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"DELETE",query:{environment:i}}),(0,o.B8)()}catch{(0,o.Iw)((0,r.t)("Unable to remove environment from monitor."))}}async function l(e,t,n,s){(0,o.E3)();try{const r=await e.requestPromise(`/organizations/${t}/monitors/${n}/`,{method:"PUT",data:s});return(0,o.B8)(),r}catch(e){a=e,i.$e((e=>{i.Tb(a)})),window.console&&console.error&&console.error(a),(0,o.Iw)((0,r.t)("Unable to update monitor."))}var a;return null}},"./app/components/diamondStatus.tsx":(e,t,n)=>{n.d(t,{V:()=>s});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/icons/index.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){let{color:t,icon:n,...o}=e;return(0,i.BX)(l,{role:"presentation",color:t,...o,children:[(0,i.tZ)(a,{color:t}),(0,i.tZ)(n,{color:"white"})]})}s.displayName="DiamondStatus";const a=(0,o.Z)(r.Sq,{target:"ehwnb4y1"})({name:"bgbjt4",styles:"width:36px;height:36px"}),l=(0,o.Z)("div",{target:"ehwnb4y0"})({name:"1uzdu7j",styles:"width:36px;height:36px;position:relative;svg:last-child{width:16px;z-index:2;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;}"})},"./app/components/onboardingPanel.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/components/panels/panel.tsx"),i=n("./app/styles/space.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{image:t,noCenter:n,children:o,...i}=e;return(0,s.tZ)(r.Z,{...i,children:(0,s.BX)(l,{children:[t?(0,s.tZ)(c,{children:t}):null,(0,s.tZ)(d,{centered:!t&&!n,children:o})]})})}a.displayName="OnboardingPanel";const l=(0,o.Z)("div",{target:"euclof22"})("padding:",(0,i.D)(3),";position:relative;@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:wrap;min-height:300px;max-width:1000px;margin:0 auto;}@media (min-width: ",(e=>e.theme.breakpoints.medium),"){min-height:350px;}"),d=(0,o.Z)("div",{target:"euclof21"})("min-width:0;z-index:1;",(e=>e.centered?"text-align: center;":"")," ",(e=>e.centered?"max-width: 600px;":""),"@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:2;}"),c=(0,o.Z)(d,{target:"euclof20"})("position:relative;min-height:100px;max-width:300px;min-width:150px;margin:",(0,i.D)(2)," auto;@media (min-width: ",(e=>e.theme.breakpoints.small),"){flex:1;margin:",(0,i.D)(3),";max-width:auto;}"),u=a},"./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var o=n("../node_modules/react/index.js"),r=n("./app/views/routeAnalyticsContextProvider.tsx");function i(e,t){const{setEventNames:n,previousUrl:i}=(0,o.useContext)(r.o);(0,o.useEffect)((()=>{n(e,t)}),[n,e,t,i])}},"./app/views/monitors/components/cronsFeedbackButton.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});var o=n("./app/components/featureFeedback/index.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(){return(0,r.tZ)(o.z,{featureName:"crons",buttonProps:{size:"sm"}})}i.displayName="CronsFeedbackButton";const s=i},"./app/views/monitors/overview.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/query-string/index.js");const s=n.p+"assets/onboarding-preview.9ab72020d945116f13ae.svg";var a=n("./app/components/button.tsx"),l=n("./app/components/buttonBar.tsx"),d=n("./app/components/environmentPageFilter.tsx"),c=n("./app/components/featureBadge.tsx"),u=n("./app/components/layouts/thirds.tsx"),m=n("./app/components/loadingIndicator.tsx"),p=n("./app/components/onboardingPanel.tsx"),h=n("./app/components/organizations/pageFilterBar.tsx"),g=n("./app/components/organizations/pageFilters/parse.tsx"),x=n("./app/components/pageHeadingQuestionTooltip.tsx"),f=n("./app/components/pagination.tsx"),y=n("./app/components/projectPageFilter.tsx"),Z=n("./app/components/searchBar.tsx"),v=n("./app/components/sentryDocumentTitle.tsx"),w=n("./app/icons/index.tsx"),b=n("./app/locale.tsx"),k=n("./app/styles/space.tsx"),T=n("./app/utils/queryClient.tsx"),C=n("./app/utils/queryString.tsx"),I=n("./app/utils/routeAnalytics/useRouteAnalyticsEventNames.tsx"),E=n("./app/utils/routeAnalytics/useRouteAnalyticsParams.tsx"),N=n("./app/utils/useOrganization.tsx"),O=n("./app/utils/usePageFilters.tsx"),j=n("./app/utils/useRouter.tsx"),M=n("./app/views/monitors/components/cronsFeedbackButton.tsx"),R=n("./app/components/panels/panelTable.tsx"),D=n("./app/utils/useLocation.tsx"),S=n("./app/views/monitors/utils.tsx"),z=n("./app/actionCreators/monitors.tsx"),B=n("./app/components/confirm.tsx"),_=n("./app/components/dropdownMenu/index.tsx"),P=n("./app/components/idBadge/index.tsx"),L=n("./app/components/links/link.tsx"),q=n("./app/components/textOverflow.tsx"),X=n("./app/components/timeSince.tsx"),$=n("./app/utils/useApi.tsx"),A=n("./app/utils/withDomainRequired.tsx"),F=n("./app/views/monitors/types.tsx"),W=n("./app/components/diamondStatus.tsx"),U=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function K(e){let{status:t}=e;const{Icon:n,color:o}=V[t]??V.ok;return(0,U.tZ)(W.V,{icon:n,color:o})}K.displayName="MonitorBadge";const V={ok:{Icon:w.DL,color:"successText"},error:{Icon:w.zC,color:"errorText"},timeout:{Icon:w.zC,color:"errorText"},missed_checkin:{Icon:w.qV,color:"warningText"},active:{Icon:w._$,color:"subText"},disabled:{Icon:e=>(0,U.tZ)(w.ky,{...e,size:"xs"}),color:"subText"}};function H(e){let{monitor:t,monitorEnv:n,organization:o,onDelete:i}=e;const s=(0,$.Z)(),a=n?.lastCheckIn?(0,U.tZ)(X.Z,{unitStyle:"regular",date:n.lastCheckIn}):null,l=n?(0,b._N)('Are you sure you want to permanently delete the "[envName]" environment from "[monitorName]"?',{monitorName:t.name,envName:n.name}):(0,b._N)('Are you sure you want to permanently delete "[monitorName]"?',{monitorName:t.name}),d=[{key:"edit",label:(0,b.t)("Edit"),to:(0,A.D)({pathname:`/organizations/${o.slug}/crons/${t.slug}/edit/`,query:{environment:n?.name}})},{key:"delete",label:(0,b.t)("Delete"),priority:"danger",onAction:()=>{(0,B._)({onConfirm:async()=>{n?await(0,z.gm)(s,o.slug,t.slug,n.name):await(0,z.Mw)(s,o.slug,t.slug),i(n)},header:(0,b.t)("Delete Monitor?"),message:l,confirmText:(0,b.t)("Delete Monitor"),priority:"danger"})}}],c=`/organizations/${o.slug}/crons/${t.slug}/${n?`?environment=${n.name}`:""}`,u="disabled"!==t.status&&n?n.status:t.status;return(0,U.BX)(r.Fragment,{children:[(0,U.BX)(G,{children:[(0,U.tZ)(K,{status:u}),(0,U.tZ)(L.Z,{to:c,children:t.name})]}),(0,U.tZ)(J,{children:(0,U.tZ)(q.Z,{children:"disabled"===u?(0,b.t)("Paused"):u!==F.wo.ACTIVE&&a?u===F.wo.OK?(0,b._N)("Check-in [lastCheckin]",{lastCheckin:a}):u===F.wo.MISSED_CHECKIN?(0,b._N)("Missed [lastCheckin]",{lastCheckin:a}):u===F.wo.ERROR?(0,b._N)("Failed [lastCheckin]",{lastCheckin:a}):u===F.wo.TIMEOUT?(0,b.t)("Timed out"):null:(0,b.t)("Waiting for first check-in")})}),(0,U.tZ)(J,{children:(0,S.Jc)(t.config)}),(0,U.tZ)(J,{children:n?.nextCheckIn&&n.status!==F.wo.DISABLED&&n.status!==F.wo.ACTIVE?(0,U.tZ)(X.Z,{unitStyle:"regular",date:n.nextCheckIn}):"—"}),(0,U.tZ)(J,{children:(0,U.tZ)(P.Z,{project:t.project,avatarSize:18,avatarProps:{hasTooltip:!0,tooltip:t.project.slug}})}),(0,U.tZ)(J,{children:n?.name??"—"}),(0,U.tZ)(Y,{children:(0,U.tZ)(_.h,{items:d,position:"bottom-end",triggerProps:{"aria-label":(0,b.t)("Actions"),size:"xs",icon:(0,U.tZ)(w.YR,{size:"xs"}),showChevron:!1}})})]})}H.displayName="MonitorRow";const G=(0,o.Z)("div",{target:"e137lq2l2"})("display:flex;align-items:center;gap:",(0,k.D)(2),";font-size:",(e=>e.theme.fontSizeLarge),";"),J=(0,o.Z)("div",{target:"e137lq2l1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Y=(0,o.Z)("div",{target:"e137lq2l0"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"});function Q(e){let{monitorList:t}=e;const n=(0,D.T)(),o=(0,N.Z)(),r=(0,T.NL)(),i=(0,S.Kg)(o,n),s=(e,n)=>(0,U.tZ)(H,{monitor:e,monitorEnv:n,onDelete:n=>{if(n){if(!t)return;const o=t.find((t=>t.slug===e.slug));if(!o)return;o.environments=o.environments.filter((e=>e.name!==n.name)),(0,T.XN)(r,i,t)}else(0,T.XN)(r,i,t?.filter((t=>t.slug!==e.slug)))},organization:o},`${e.slug}-${n?.name??"no-env"}`);return(0,U.tZ)(ee,{headers:[(0,b.t)("Monitor Name"),(0,b.t)("Status"),(0,b.t)("Schedule"),(0,b.t)("Next Checkin"),(0,b.t)("Project"),(0,b.t)("Environment"),(0,b.t)("Actions")],children:t?.map((e=>e.environments.length>0?e.environments.map((t=>s(e,t))):s(e))).flat()})}Q.displayName="OverviewTable";const ee=(0,o.Z)(R.Z,{target:"eyhbkp30"})({name:"1dqlhcg",styles:"grid-template-columns:1fr max-content 1fr max-content max-content max-content max-content"});var te=n("./app/components/panels/panel.tsx"),ne=n("./app/components/placeholder.tsx"),oe=n("./app/components/segmentedControl.tsx"),re=n("../node_modules/@react-aria/utils/dist/import.mjs");const ie=[F.NI.OK,F.NI.MISSED,F.NI.TIMEOUT,F.NI.ERROR];function se(e){return Object.values(e).reduce(((e,t)=>{for(const[n,o]of ie.entries())t[o]>0&&n>ie.indexOf(e)&&(e=o);return e}),ie[0])}function ae(e,t){const[n,o]=e;return{endTs:n,startTs:n,width:1,envMapping:o,roundedLeft:!1,roundedRight:!1,...t}}var le=n("./app/components/dateTime.tsx"),de=n("./app/components/text.tsx"),ce=n("./app/components/tooltip.tsx"),ue=n("../node_modules/moment/moment.js"),me=n.n(ue),pe=n("./app/utils/dates.tsx");const he={"1h":{cursorLabelFormat:(0,pe.y6)({timeOnly:!0,seconds:!0}),elapsedMinutes:60,timeMarkerInterval:10,dateTimeProps:{timeOnly:!0}},"24h":{cursorLabelFormat:(0,pe.y6)({timeOnly:!0}),elapsedMinutes:1440,timeMarkerInterval:240,dateTimeProps:{timeOnly:!0}},"7d":{cursorLabelFormat:(0,pe.y6)(),elapsedMinutes:10080,timeMarkerInterval:1440,dateTimeProps:{}},"30d":{cursorLabelFormat:(0,pe.y6)({dateOnly:!0}),elapsedMinutes:43200,timeMarkerInterval:7200,dateTimeProps:{dateOnly:!0}}};function ge(e,t){const{elapsedMinutes:n}=he[t];return me()(e).subtract(n,"minute").toDate()}function xe(e){let{jobTick:t,timeWindow:n,children:o,...i}=e;const{startTs:s,endTs:a,envMapping:l}=t,{dateTimeProps:d}=he[n],c=Object.keys(l),u=1===c.length&&1===Object.values(l[c[0]]).reduce(((e,t)=>e+t),0),m=(0,U.BX)(r.Fragment,{children:[(0,U.BX)(ye,{children:[(0,U.tZ)(le.Z,{date:1e3*s,...d}),!u&&(0,U.BX)(r.Fragment,{children:[(0,U.tZ)(de.Z,{children:"—"}),(0,U.tZ)(le.Z,{date:1e3*a,...d})]})]}),(0,U.BX)(fe,{children:[(0,U.tZ)(Ze,{children:(0,U.BX)("tr",{children:[(0,U.tZ)("td",{children:(0,b.t)("Status")}),(0,U.tZ)("td",{children:(0,b.t)("Environment")}),(0,U.tZ)("td",{children:(0,b.t)("Count")})]})}),(0,U.tZ)("tbody",{children:Object.entries(l).map((e=>{let[t,n]=e;return Object.entries(n).map((e=>{let[n,o]=e;return o>0&&(0,U.BX)("tr",{children:[(0,U.tZ)(ve,{status:n,children:S._c[n]}),(0,U.tZ)(be,{children:t}),(0,U.tZ)(we,{children:o})]},`${t}:${n}`)}))}))})]})]});return(0,U.tZ)(ce.u,{title:m,skipWrapper:!0,...i,children:o})}xe.displayName="JobTickTooltip";const fe=(0,o.Z)("table",{target:"e1idf3ia5"})({name:"1sz5d51",styles:"width:100%;margin:0"}),ye=(0,o.Z)("div",{target:"e1idf3ia4"})("display:flex;margin-bottom:",(0,k.D)(.5),";justify-content:center;"),Ze=(0,o.Z)("thead",{target:"e1idf3ia3"})({name:"rg2ogg",styles:"display:block;overflow:hidden;height:0;width:0"}),ve=(0,o.Z)("td",{target:"e1idf3ia2"})("color:",(e=>(0,S.Zc)(e.status,e.theme).labelColor),";text-align:left;"),we=(0,o.Z)("td",{target:"e1idf3ia1"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),be=(0,o.Z)("td",{target:"e1idf3ia0"})("padding:",(0,k.D)(.25)," ",(0,k.D)(.5),";");function ke(e){const{bucketedData:t,start:n,end:o,timeWindow:r,width:i}=e,s=(o.getTime()-n.getTime())/i,a=function(e){const t=[];return e.reduce(((n,o,r)=>{const[i,s]=o,a=function(e){return 0===Object.keys(e).length}(s);if(!n)return a?n:ae(o,{roundedLeft:!0});const l=se(s),d=se(n.envMapping);if(a&&n.width>=4)return n.roundedRight=!0,t.push(n),null;const c=e.slice(r,r+4).map((e=>{let[t,n]=e;return n})).map(se).reduce(((e,t)=>ie.indexOf(t)>ie.indexOf(e)?t:e),ie[0]);var u,m;return l!==d&&c!==d&&n.width>=4?(t.push(n),ae(o)):(n={...n,endTs:i,envMapping:(u=n.envMapping,m=s,[...new Set([...Object.keys(u),...Object.keys(m)])].reduce(((e,t)=>{const n={};for(const e of ie)n[e]=(u[t]?.[e]??0)+(m[t]?.[e]??0);return e[t]=n,e}),{})),width:n.width+1},r===e.length-1&&(n.roundedRight=!0,t.push(n)),n)}),null),t}(t);return(0,U.tZ)(Te,{children:a.map((e=>{const{startTs:t,width:o,envMapping:i,roundedLeft:a,roundedRight:l}=e,d=function(e,t,n){return(new Date(e).getTime()-t.getTime())/n}(1e3*t,n,s);return(0,U.tZ)(xe,{jobTick:e,timeWindow:r,skipWrapper:!0,children:(0,U.tZ)(Ce,{style:{left:d,width:o},status:se(i),roundedLeft:a,roundedRight:l})},t)}))})}ke.displayName="CheckInTimeline";const Te=(0,o.Z)("div",{target:"e1wjj5r11"})("position:relative;height:14px;margin:",(0,k.D)(2)," 0;"),Ce=(0,o.Z)("div",{target:"e1wjj5r10"})("position:absolute;background:",(e=>(0,S.Zc)(e.status,e.theme).tickColor),";opacity:0.7;width:4px;height:14px;",(e=>e.roundedLeft&&"\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px;\n  ")," ",(e=>e.roundedRight&&"\n    border-top-right-radius: 2px;\n    border-bottom-right-radius: 2px;\n  "),";");var Ie=n("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),Ee=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),Ne=n("./app/components/overlay.tsx"),Oe=n("./app/utils/testableTransition.tsx");const je=(0,o.Z)(Ee.E.div,{target:"e14i3eym1"})("pointer-events:none;background:",(e=>e.theme.translucentBorder),";width:2px;height:100%;position:absolute;top:0;left:clamp(0px, var(--cursorOffset), var(--cursorMax));transform:translateX(-2px);z-index:3;");je.defaultProps={initial:"initial",animate:"animate",exit:"exit",transition:(0,Oe.Z)({duration:.1}),variants:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}};const Me=(0,o.Z)(Ne.a,{target:"e14i3eym0"})("font-variant-numeric:tabular-nums;width:max-content;padding:",(0,k.D)(.75)," ",(0,k.D)(1),";color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:1.2;position:absolute;top:12px;left:clamp(\n    0px,\n    calc(var(--cursorOffset) + ",10,"px),\n    calc(var(--cursorMax) - var(--cursorLabelWidth) - ",10,"px)\n  );");function Re(e,t,n){const{elapsedMinutes:o,timeMarkerInterval:r}=he[t],i=60*o*1e3/n,s=[],a=ge(e,t),l=me()(a);var d,c;c=t,(d=l).startOf("minute"),"1h"===c?d.minute(d.minutes()-d.minutes()%10):"30d"===c?d.startOf("day"):d.startOf("hour");for(let e=1;e<o/r;e++){const t=me()(l).add(e*r,"minute"),n=(t.valueOf()-a.valueOf())/i;s.push({date:t.toDate(),position:n})}return s}function De(e){let{end:t,timeWindow:n,width:o}=e;return(0,U.tZ)(_e,{children:Re(t,n,o).map((e=>{let{date:t,position:o}=e;return(0,U.tZ)(Le,{left:o,children:(0,U.tZ)(qe,{date:t,...he[n].dateTimeProps})},t.getTime())}))})}function Se(e){let{end:t,timeWindow:n,width:o,showCursor:i}=e;const{cursorLabelFormat:s}=he[n],a=(0,r.useCallback)((e=>{const o=ge(t,n),r=(t.getTime()-o.getTime())*e;return me()(o.getTime()+r).format(s)}),[s,t,n]),{cursorContainerRef:l,timelineCursor:d}=function(e){let{enabled:t=!0,labelText:n}=e;const o=(0,r.useRef)(null),i=(0,r.useRef)(null),s=(0,r.useRef)(null),[a,l]=(0,r.useState)(!1),d=(0,r.useCallback)((e=>{if(null!==o.current&&window.cancelAnimationFrame(o.current),null===i.current)return;const t=i.current.getBoundingClientRect(),r=e.clientX>t.left&&e.clientX<t.right&&e.clientY>t.top&&e.clientY<t.bottom;r!==a&&l(r),o.current=window.requestAnimationFrame((()=>{if(null===i.current||null===s.current)return;const o=e.clientX-t.left,r=s.current.offsetWidth;s.current.innerText=n(o/t.width),i.current.style.setProperty("--cursorOffset",`${o}px`),i.current.style.setProperty("--cursorMax",`${t.width}px`),i.current.style.setProperty("--cursorLabelWidth",`${r}px`)}))}),[a,n]);(0,r.useEffect)((()=>(t?window.addEventListener("mousemove",d):l(!1),()=>window.removeEventListener("mousemove",d))),[t,d]);const c=(0,U.tZ)(Ie.M,{children:a&&(0,U.BX)(r.Fragment,{children:[(0,U.tZ)(je,{role:"presentation"}),(0,U.tZ)(Me,{ref:s,animated:!0,placement:"right"})]})});return{cursorContainerRef:i,timelineCursor:c}}({enabled:i,labelText:a});return(0,U.BX)(ze,{ref:l,children:[d,(0,U.tZ)(Be,{children:Re(t,n,o).map((e=>{let{date:t,position:n}=e;return(0,U.tZ)(Pe,{left:n},t.getTime())}))})]})}De.displayName="GridLineTimeLabels",Se.displayName="GridLineOverlay";const ze=(0,o.Z)("div",{target:"ed7wpxd5"})({name:"25nah5",styles:"grid-row:1;grid-column:2;height:100%;width:100%;position:absolute;pointer-events:none"}),Be=(0,o.Z)("div",{target:"ed7wpxd4"})({name:"1wv4onu",styles:"position:relative;height:100%"}),_e=(0,o.Z)("div",{target:"ed7wpxd3"})("position:relative;align-self:stretch;border-bottom:1px solid ",(e=>e.theme.border),";"),Pe=(0,o.Z)("div",{target:"ed7wpxd2"})("position:absolute;left:",(e=>e.left),"px;border-left:1px solid ",(e=>e.theme.innerBorder),";height:100%;"),Le=(0,o.Z)(Pe,{target:"ed7wpxd1"})({name:"wm3npa",styles:"display:flex;height:100%;align-items:center"}),qe=(0,o.Z)(le.Z,{target:"ed7wpxd0"})("font-variant-numeric:tabular-nums;font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";margin-left:",(0,k.D)(1),";");function Xe(e){let{monitorList:t}=e;const{replace:n,location:o}=(0,j.Z)(),i=(0,N.Z)(),s=o.query?.timeWindow??"24h",a=(0,r.useRef)(new Date),l=ge(a.current,s),{elementRef:d,width:c}=function(){const e=(0,r.useRef)(null),[t,n]=(0,r.useState)({height:0,width:0}),o=(0,r.useCallback)((()=>{n({height:e.current?.clientHeight||0,width:e.current?.clientWidth||0})}),[n]);return(0,re.yU)({ref:e,onResize:o}),{elementRef:e,...t}}(),u=(0,r.useCallback)((e=>{n({...o,query:{...o.query,timeWindow:e}})}),[o,n]),m=Math.floor(60*he[s].elapsedMinutes/c),p=`/organizations/${i.slug}/monitors-stats/`,{data:h,isLoading:g}=(0,T.WE)([p,{query:{until:Math.floor(a.current.getTime()/1e3),since:Math.floor(l.getTime()/1e3),monitor:t.map((e=>e.slug)),resolution:`${m}s`,...o.query}}],{staleTime:0,enabled:c>0});return(0,U.BX)(Ae,{children:[(0,U.tZ)(Ke,{children:(0,U.BX)(oe.s,{value:s,onChange:u,size:"xs","aria-label":(0,b.t)("Time Scale"),children:[(0,U.tZ)(oe.s.Item,{children:(0,b.t)("Hour")},"1h"),(0,U.tZ)(oe.s.Item,{children:(0,b.t)("Day")},"24h"),(0,U.tZ)(oe.s.Item,{children:(0,b.t)("Week")},"7d"),(0,U.tZ)(oe.s.Item,{children:(0,b.t)("Month")},"30d")]})}),(0,U.tZ)(Ve,{ref:d}),(0,U.tZ)(De,{timeWindow:s,end:a.current,width:c}),(0,U.tZ)(Se,{showCursor:!g,timeWindow:s,end:a.current,width:c}),t.map((e=>(0,U.BX)(r.Fragment,{children:[(0,U.tZ)($e,{monitor:e}),g||!h?(0,U.tZ)(ne.Z,{}):(0,U.tZ)("div",{children:(0,U.tZ)(ke,{timeWindow:s,bucketedData:h[e.slug],end:a.current,start:l,width:c})})]},e.id)))]})}function $e(e){let{monitor:t}=e;const n=(0,N.Z)(),o=(0,S.Jc)(t.config),r=`/organizations/${n.slug}/crons/${t.slug}/`;return(0,U.BX)(Fe,{to:r,children:[(0,U.tZ)(We,{children:t.name}),(0,U.tZ)(Ue,{children:o})]})}Xe.displayName="OverviewTimeline",$e.displayName="MonitorDetails";const Ae=(0,o.Z)(te.Z,{target:"e17avkf05"})("display:grid;grid-template-columns:350px 1fr;a,a+div{transition:background 50ms ease-in-out;}a:hover,a:hover+div,a:has(+ div:hover),a+div:hover{background:",(e=>e.theme.backgroundSecondary),";}"),Fe=(0,o.Z)(L.Z,{target:"e17avkf04"})("color:",(e=>e.theme.textColor),";padding:",(0,k.D)(2),";border-right:1px solid ",(e=>e.theme.border),";border-radius:0;"),We=(0,o.Z)("h3",{target:"e17avkf03"})("font-size:",(e=>e.theme.fontSizeLarge),";margin-bottom:",(0,k.D)(.25),";"),Ue=(0,o.Z)("small",{target:"e17avkf02"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";"),Ke=(0,o.Z)("div",{target:"e17avkf01"})("display:flex;gap:",(0,k.D)(1),";padding:",(0,k.D)(1.5)," ",(0,k.D)(2),";border-bottom:1px solid ",(e=>e.theme.border),";"),Ve=(0,o.Z)("div",{target:"e17avkf00"})({name:"1kzkzxy",styles:"position:absolute;width:100%;grid-row:1;grid-column:2"});function He(e){const t=(0,N.Z)(),{selection:n}=(0,O.Z)();return(0,U.tZ)(a.zx,{to:{pathname:`/organizations/${t.slug}/crons/create/`,query:{project:n.projects}},priority:"primary",...e,children:e.children})}function Ge(){const e=(0,N.Z)(),t=(0,j.Z)(),n=(0,S.Kg)(e,t.location),{data:o,getResponseHeader:k,isLoading:O}=(0,T.WE)(n,{staleTime:0});(0,I.Z)("monitors.page_viewed","Monitors: Page Viewed"),(0,E.Z)({empty_state:!o||0===o.length});const R=k?.("Link"),D=e.features.includes("crons-timeline-listing-page");return(0,U.tZ)(v.Z,{title:`Crons — ${e.slug}`,children:(0,U.BX)(u.T3,{children:[(0,U.BX)(u.h4,{children:[(0,U.tZ)(u.oB,{children:(0,U.BX)(u.Dx,{children:[(0,b.t)("Cron Monitors"),(0,U.tZ)(x.u,{title:(0,b.t)("Scheduled monitors that check in on recurring jobs and tell you if they’re running on schedule, failing, or succeeding."),docsUrl:"https://docs.sentry.io/product/crons/"}),(0,U.tZ)(c.Z,{type:"beta"})]})}),(0,U.tZ)(u.kP,{children:(0,U.BX)(l.ZP,{gap:1,children:[(0,U.tZ)(M.Z,{}),(0,U.tZ)(He,{size:"sm",icon:(0,U.tZ)(w.N_,{isCircled:!0,size:"xs"}),children:(0,b.t)("Add Monitor")})]})})]}),(0,U.tZ)(u.uT,{children:(0,U.BX)(u.or,{fullWidth:!0,children:[(0,U.BX)(Je,{children:[(0,U.BX)(h.Z,{children:[(0,U.tZ)(y.Z,{resetParamsOnChange:["cursor"]}),(0,U.tZ)(d.Z,{resetParamsOnChange:["cursor"]})]}),(0,U.tZ)(Z.Z,{query:(0,C.ro)(i.parse(location.search)?.query,""),placeholder:(0,b.t)("Search by name or slug"),onSearch:e=>{const n=t.location.query??{};t.push({pathname:location.pathname,query:(0,g.fK)({...n,query:e})})}})]}),O?(0,U.tZ)(m.Z,{}):o?.length?(0,U.BX)(r.Fragment,{children:[D?(0,U.tZ)(Xe,{monitorList:o}):(0,U.tZ)(Q,{monitorList:o}),R&&(0,U.tZ)(f.Z,{pageLinks:R})]}):(0,U.BX)(p.Z,{image:(0,U.tZ)("img",{src:s}),children:[(0,U.tZ)("h3",{children:(0,b.t)("Let Sentry monitor your recurring jobs")}),(0,U.tZ)("p",{children:(0,b.t)("We'll tell you if your recurring jobs are running on schedule, failing, or succeeding.")}),(0,U.BX)(Ye,{gap:1,children:[(0,U.tZ)(He,{children:(0,b.t)("Set up first cron monitor")}),(0,U.tZ)(a.zx,{href:"https://docs.sentry.io/product/crons",external:!0,children:(0,b.t)("Read docs")})]})]})]})})]})})}He.displayName="NewMonitorButton",Ge.displayName="Monitors";const Je=(0,o.Z)("div",{target:"e3xqmwz1"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,k.D)(1.5),";margin-bottom:",(0,k.D)(2),";"),Ye=(0,o.Z)(l.ZP,{target:"e3xqmwz0"})({name:"vpj881",styles:"grid-template-columns:repeat(auto-fit, minmax(130px, max-content))"})},"./app/views/monitors/types.tsx":(e,t,n)=>{let o,r,i,s;n.d(t,{Ix:()=>r,NI:()=>s,wo:()=>i}),function(e){e.UNKNOWN="unknown",e.CRON_JOB="cron_job"}(o||(o={})),function(e){e.CRONTAB="crontab",e.INTERVAL="interval"}(r||(r={})),function(e){e.OK="ok",e.ERROR="error",e.DISABLED="disabled",e.ACTIVE="active",e.MISSED_CHECKIN="missed_checkin",e.TIMEOUT="timeout"}(i||(i={})),function(e){e.OK="ok",e.ERROR="error",e.IN_PROGRESS="in_progress",e.MISSED="missed",e.TIMEOUT="timeout"}(s||(s={}))},"./app/views/monitors/utils.tsx":(e,t,n)=>{n.d(t,{Jc:()=>c,Kg:()=>l,Zc:()=>m,Zf:()=>d,_c:()=>u});var o=n("../node_modules/cronstrue/dist/cronstrue.js"),r=n.n(o),i=n("./app/locale.tsx"),s=n("./app/utils/dates.tsx"),a=n("./app/views/monitors/types.tsx");function l(e,t){const{query:n,project:o,environment:r,cursor:i}=t.query;return[`/organizations/${e.slug}/monitors/`,{query:{cursor:i,query:n,project:o,environment:r,includeNew:!0,per_page:20}}]}function d(e){if(!e)return null;let t;try{t=r().toString(e,{verbose:!1,use24HourTimeFormat:(0,s.gn)()})}catch(e){return null}return t}function c(e){if(e.schedule_type===a.Ix.CRONTAB)return d(e.schedule)??(0,i.t)("Unknown schedule");const[t,n]=e.schedule;return"minute"===n?(0,i.tn)("Every minute","Every %s minutes",t):"hour"===n?(0,i.tn)("Every hour","Every %s hours",t):"day"===n?(0,i.tn)("Every day","Every %s days",t):"week"===n?(0,i.tn)("Every week","Every %s weeks",t):"month"===n?(0,i.tn)("Every month","Every %s months",t):(0,i.t)("Unknown schedule")}const u={[a.NI.OK]:(0,i.t)("Okay"),[a.NI.ERROR]:(0,i.t)("Failed"),[a.NI.IN_PROGRESS]:(0,i.t)("In Progress"),[a.NI.MISSED]:(0,i.t)("Missed"),[a.NI.TIMEOUT]:(0,i.t)("Timed Out")};function m(e,t){return{[a.NI.ERROR]:{tickColor:t.red300,labelColor:t.red400},[a.NI.TIMEOUT]:{tickColor:t.red300,labelColor:t.red400},[a.NI.OK]:{tickColor:t.green300,labelColor:t.green400},[a.NI.MISSED]:{tickColor:t.yellow300,labelColor:t.yellow400},[a.NI.IN_PROGRESS]:{tickColor:t.disabled,labelColor:t.disabled}}[e]}}}]);
//# sourceMappingURL=../sourcemaps/app_views_monitors_overview_tsx-images_spot_onboarding-preview_svg.e25e862b61e3a0e58e41b30acaf6ae12.js.map