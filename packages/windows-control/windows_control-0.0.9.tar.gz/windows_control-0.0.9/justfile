default: gen test


LIB := "windows_control"

env:
    python -m venv .venv

gen:
    rm -f ./target/debug/{{LIB}}.dll ./target/debug/{{LIB}}.pyd
    maturin develop
    mv -f ./target/debug/{{LIB}}.dll ./target/debug/{{LIB}}.pyd

test:
    python ./test.py

pub:
    # use the following cmd in powershell, but NOT git bash
    # maturin publish --interpreter C:\Users\Administrator\AppData\Local\Programs\Python\Python39\python.exe  -u dbsx-0214 -p Djw0214_518074
    
    # use the following cmd in git bash, but NOT powershell
    maturin publish --interpreter /d/DATA/BaiduSyncdisk/project/personal/windows_control_python/.venv/Scripts/python  -u dbsx-0214 -p Djw0214_518074
