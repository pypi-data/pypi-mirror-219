Metadata-Version: 2.1
Name: atwiki-python
Version: 0.0.11
Summary: Atwiki Client Library
Home-page: https://github.com/kmaehashi/atwiki-python
Author: Kenichi Maehashi
Author-email: webmaster@kenichimaehashi.com
License: MIT
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 2
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Requires-Python: >=2.7,!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,!=3.5.*,!=3.6.*
License-File: LICENSE
Requires-Dist: BeautifulSoup4
Requires-Dist: html5lib

|GitHubActions|_ |CodeCov|_ |PyPi|_

.. |GitHubActions| image:: https://github.com/kmaehashi/atwiki-python/actions/workflows/test.yml/badge.svg?branch=main
.. _GitHubActions: https://github.com/kmaehashi/atwiki-python/actions/workflows/test.yml?query=branch%3Amain

.. |CodeCov| image:: https://codecov.io/gh/kmaehashi/atwiki-python/branch/main/graph/badge.svg
.. _CodeCov: https://codecov.io/gh/kmaehashi/atwiki-python

.. |PyPI| image:: https://badge.fury.io/py/atwiki-python.svg
.. _PyPI: https://pypi.org/project/atwiki-python

atwiki-python
=============

``atwiki-python`` is a client library to access `@wiki <https://atwiki.jp/>`_ from Python.

This package also includes ``atwiki-dump`` command to dump source from @wiki wiki site.

Install
-------

::

  pip install atwiki-python

Requirements
------------

* Python 2.7 / 3.7 / 3.8 / 3.9 / 3.10 / 3.11

Usage
-----

``atwiki-dump`` Command
~~~~~~~~~~~~~~~~~~~~~~~

Dump source and page name for each page in the wiki site.

::

  atwiki-dump -o /tmp/dump_dir https://w.atwiki.jp/python-client/

Python API
~~~~~~~~~~

Python API provides access to @wiki features.

.. code:: python

  from atwiki import *

  api = AtWikiAPI(AtWikiURI('https://w.atwiki.jp/python-client/'))

  # Show list of tags.
  for tag in api.get_tags():
      print(tag)

  # Show list of pages.
  for page in api.get_list():
      print(page)

  # Show list of pages tagged with 'tag01'.
  for page in api.get_list('tag01'):
      print(page)

  # Show source of page ID 14.
  print(api.get_source(14))

  # Show results of wiki search.
  for result in api.search('test'):
      print(result)

Hints
-----

* Always use an appropraite interval between requests, or your IP address may get banned.
  Empirically, 10 seconds of sleep between API call is sufficient.
  Each ``AtWikiAPI`` instance automatically injects a delay between requests.
* Your application must expect that entries returned from APIs may be duplicate/missing when pages/tags are added/removed during API call.
  This is because listing requests are internally pagerized and it is costly to guarantee consistency.
* AtWiki's specification may change anytime.
  If you are going to build an automated system, it is encouraged to run test suites included with the installation of this library (``python -m unittest discover atwiki``) everytime before running your application.

License
-------

MIT License
