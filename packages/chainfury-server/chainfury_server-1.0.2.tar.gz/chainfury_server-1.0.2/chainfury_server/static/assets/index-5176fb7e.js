const O={prompts:"#9CE0FC",llms:"#6344BE",chains:"#EA3852",agents:"#FF7496",tools:"#FF3434",memories:"#FF9135",advanced:"#000000",chat:"#454173",thought:"#272541",docloaders:"#FF9135",toolkits:"#DB2C2C",wrappers:"#E6277A",unknown:"#9CA3AF",models:"#9CE0FC",programatic_actions:"#6344BE",builtin_ai:"#EA3852",actions:"#FF9135"};function _(e){let s="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=a.length;let n=0;for(;n<e;)s+=a.charAt(Math.floor(Math.random()*o)),n+=1;return s}function k(e){try{let s=[...e].map((r,l)=>r==="`"?l:void 0).filter(r=>r!==void 0);s.length%2!==0&&console.log("Odd number of backticks");let a=[];for(let r=0;r<s.length;r+=2)a.push([s[r],s[r+1]]);let o="",n=0;for(let[r,l]of a)o+=e.slice(n,r)+e.slice(r,l).replace(/\n/g,"\\n")+e.slice(l,r),n=l;return o+=e.slice(n),o=o.replace(/`/g,'"'),console.log({new_x:o}),JSON.parse(o)}catch(s){return console.log(s),null}}const v=({nodes:e,edges:s})=>{var p,f,m,d,F,E;const a=JSON.parse(JSON.stringify(e)),o=JSON.parse(JSON.stringify(s));console.log("prev",{tempNodes:a,edges:s});let n={},r=null,l=null,h=[],u=[];for(let i in a){if(h.includes(a[i].id))continue;h.push(a[i].id);let t=a[i];const g=[];(m=(f=(p=t==null?void 0:t.data)==null?void 0:p.node)==null?void 0:f.fields)==null||m.forEach(c=>{c!=null&&c.password&&g.push(c==null?void 0:c.name)}),Object==null||Object.entries(((E=(F=(d=t==null?void 0:t.data)==null?void 0:d.node)==null?void 0:F.fn)==null?void 0:E.model_params)??{}).forEach(([c,C])=>{n[`${g.includes(c)&&!n[c]?"":(t==null?void 0:t.id)+"/"}${c}`]=C}),t.cf_data=t.data,delete t.data,u.push(t)}for(let i in s){let t=s[i];if((t==null?void 0:t.source)==="chatin"&&(r=(t==null?void 0:t.target)+"/"+(t==null?void 0:t.targetHandle)),(t==null?void 0:t.target)==="chatout"&&(l=(t==null?void 0:t.source)+"/"+(t==null?void 0:t.sourceHandle)),r&&l)break}return u=u.filter(i=>i.id!=="chatin"&&i.id!=="chatout"),console.log("prev",{restructuredNodes:u,edges:s}),{sample:n,edges:N({edges:o,nodeIds:h}),nodes:u,main_in:r??"",main_out:l??""}},N=({edges:e,nodeIds:s})=>e.filter(o=>s.includes(o.source)&&s.includes(o.target)&&o.source!=="chatin"&&o.target!=="chatout");export{v as T,k as c,_ as m,O as n};
